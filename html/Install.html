<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>All Distance Sketch: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">All Distance Sketch
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">All distance sketch based algorithms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Prerequisites"></a>
Prerequisites</h1>
<p>The package is designed to have fairly minimal requirements to build and use with your projects, but there are some. Currently, we support Linux based paltforms.</p>
<h3>Linux Requirements</h3>
<p>These are the base requirements to build and use the package (as described below):</p><ol type="1">
<li>GNU-compatible Make</li>
<li>GCC compiler (version &gt;= 4.8.3)</li>
<li>SNAP (<a href="https://snap.stanford.edu/snap/">https://snap.stanford.edu/snap/</a> version &gt;= 2.3)</li>
<li>Boost (<a href="http://www.boost.org/">http://www.boost.org/</a> version &gt;= 1.58)</li>
<li>Gtest (<a href="https://github.com/google/googletest">https://github.com/google/googletest</a>)</li>
<li>Protobuf compiler (<a href="https://developers.google.com/protocol-buffers/docs/downloads">https://developers.google.com/protocol-buffers/docs/downloads</a> version &gt;= 2.6.0)</li>
</ol>
<h1><a class="anchor" id="install_sec"></a>
Installation</h1>
<p>The following documentation is correct to the day it was written. case you have problems with my instruction see the packages website for additional information.</p>
<h3>Build Instructions for root users</h3>
<p>All packages expect SNAP can be installed by running the following command from the directory you downloaded and unpacked the package </p><pre class="fragment">&gt;./configure
&gt;make
&gt;make install
&gt;make check
</pre><p>To install SNAP just run the following command from the unpacked directory: </p><pre class="fragment">&gt;make all
</pre><p>Since SNAP build is local you need to indicate its location for this package build. You do it using the config.site file. See non root users and only place the details that are relevant to SNAP.</p>
<h3>Build Instructions for non root users</h3>
<p>The standard way to install packages when you don't have root privileges it to use the &ndash;prefix option when running the ./configure </p><pre class="fragment">&gt;./configure --prefix=&lt;path&gt;
</pre><p>The above command will cause the package to be installed in the path given in the &ndash;prefix option. SNAP doesn't require any additional option and just type </p><pre class="fragment">&gt;make all 
</pre><p>From the directory you unpacked the source. Since you installed the packages in you desired location you need to list them in a file that will allow the package to find them and link with them and this is where config.site comes into play. After you installed Gtest (in ${GTEST_DIR}), SNAP (in ${SNAP_DIR}) and PROTOBUF (in ${PROTO_DEST}) create a file named config.site (I ommit Boost but if you need to install it just do the same as the others).</p>
<p>The file should contain the location of SNAP and Gtest:</p>
<h4>config.site content</h4>
<pre class="fragment">CPPFLAGS="${CPPFLAGS} -I${GTEST_DIR}/include/ -I{SNAP_DIR}/snap-adv/ \
-I{SNAP_DIR}/snap-core/ -I{SNAP_DIR}/snap-exp/ -I{SNAP_DIR}/glib-core/ -I${PROTO_DEST}/include/" 
LIBS="${LIBS} {SNAP_DIR}/snap-core/Snap.o ${GTEST_DIR}/libgtest.a -lpthread"
LDFLAGS="${LDFLAGS} -L${PROTO_DEST}/lib"
PROTOC="${PROTO_DEST}/bin/protoc"
PKG_CONFIG_PATH="${PROTO_DEST}/lib/pkgconfig/" 
</pre><h4>Example for a config.site</h4>
<pre class="fragment">CPPFLAGS="${CPPFLAGS} -I/work/eng/eliavb/googletest-release-1.7.0/include/ -I/work/eng/eliavb/Snap-2.3/snap-adv/ -I/work/eng/eliavb/Snap-2.3/snap-core/ -I/work/eng/eliavb/Snap-2.3/snap-exp/ -I/work/eng/eliavb/Snap-2.3/glib-core/ -I/work/eng/eliavb/protobuf_install/include/" 
LIBS="${LIBS} /work/eng/eliavb/Snap-2.3/snap-core/Snap.o /work/eng/eliavb/googletest-release-1.7.0/libgtest.a -lpthread"
LDFLAGS="${LDFLAGS} -L/work/eng/eliavb/protobuf_install/lib/"
PROTOC="/work/eng/eliavb/protobuf_install/bin/protoc"
</pre><p>Case you enounter: </p><pre class="fragment">configure: error: Package requirements (protobuf &gt;= 2.6.0) were not met:

No package 'protobuf' found

Consider adjusting the PKG_CONFIG_PATH environment variable if you
installed software in a non-standard prefix.
</pre><p>Try changing the package config env variable using the following command: </p><pre class="fragment">export PKG_CONFIG_PATH='${PROTO_DEST}/lib/pkgconfig/'   
</pre><p>Case you encounter: </p><pre class="fragment">error while loading shared libraries: libprotobuf.so.9: cannot open shared object file: No such file or directory
</pre><p>Try: </p><pre class="fragment">export LD_LIBRARY_PATH="$LD_LIBRAY_PATH:${PROTO_DEST}/lib/" 
</pre><h4>CONFIG_SITE</h4>
<p>After the file was created we need to set an env variable named CONFIG_SITE to point to the config.site: </p><pre class="fragment">&gt;export CONFIG_SITE=$CONFIG_SITE:&lt;path&gt;/config.site
</pre><h4>BUILD! non root users</h4>
<p>Suppose you placed the package in ${ADS_DIR} and want to install it in ${ADS_DEST}.</p>
<p>Enter to the ${ADS_DIR} and run:</p>
<pre class="fragment">&gt;./configure --prefix=${ADS_DEST}
&gt;make
&gt;make install
</pre><h3>Checking the install was a success non root users</h3>
<p>Since this is not a root install we need to add the location of the proto lib </p><pre class="fragment">&gt;export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${PROTO_DEST}/lib
&gt;make check
</pre><h4>BUILD! root users</h4>
<p>Suppose you placed the package in ${ADS_DIR}.</p>
<p>Enter to the ${ADS_DIR} and run:</p>
<pre class="fragment">&gt;./configure
&gt;make
&gt;make install
&gt;make check</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 3 2016 12:41:18 for All Distance Sketch by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
