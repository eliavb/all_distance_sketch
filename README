All distance sketch based algorithms
============================

https://github.com/eliavb/all_distance_sketch

Overview
--------

Collection of randomized algorithm based on the all distance sketch (http://arxiv.org/abs/1306.3284). The algorithms are compatible to Linux based platforms.

Package contains the following algorithms:
1. Bottom-k sketch (http://arxiv.org/abs/1306.3284)
2. Reverse rank (http://arxiv.org/abs/1506.02386)
3. TSkim algorithm based on reverse rank (http://arxiv.org/pdf/1506.02386v1.pdf)

More documentation about the algorithms can be found in /doc

Requirements for End Users
--------------------------

The package is designed to have fairly minimal requirements to build
and use with your projects, but there are some. Currently, we support
Linux based paltforms.

### Linux Requirements ###

These are the base requirements to build and use Google Test from a source
package (as described below):
  * GNU-compatible Make
  * POSIX-standard shell
  * GCC compiler (version >= 4.8.3)
  * SNAP (https://snap.stanford.edu/snap/ version >= 2.3)
  * Boost (http://www.boost.org/ version >= 1.58)
  * Gtest (https://github.com/google/googletest)


Getting the Source
------------------

Directly check out the source from our Git repositary (https://github.com/eliavb/all_distance_sketch).


Setting up the Build
--------------------

### Generic Build Instructions ###

After you installed Gtest (in ${GTEST_DIR}) and SNAP (in ${SNAP_DIR}) 
create a file named config.site. The file should contain the location 
of the SNAP and Gtest:

config.site:
  CPPFLAGS="${CPPFLAGS} -I${GTEST_DIR}/include/ -I{SNAP_DIR}/snap-adv/ \
  -I{SNAP_DIR}/snap-core/ -I{SNAP_DIR}/snap-exp/ -I{SNAP_DIR}/glib-core/" 
  LIBS="${LIBS} {SNAP_DIR}/snap-core/Snap.o ${GTEST_DIR}/libgtest.a -lpthread" 

After the file was created we need to set an env variable named 
CONFIG_SITE to point to the config.site

  export CONFIG_SITE=$CONFIG_SITE:<path>/config.site

Suppose you put the package in directory ${ADS_DIR} and want to install it in ${ADS_DEST}.
Enter to the ${ADS_DIR} and run:
  ./configure --prefix=${ADS_DIR}
  make 
  make install

To use the package in your code you must include ${ADS_DEST}/include/all_distance_sketch.h
and link with ${ADS_DEST}/lib/liball_distance_sketch.a

	Example of test.cpp:
	g++ --std=c++11  test.cpp -I${SNAP_DEST}/snap-adv/ -I${SNAP_DEST}/snap-core/ -I${SNAP_DEST}/snap-exp/ -I${SNAP_DEST}/glib-core/  ${ADS_DEST}/lib/liball_distance_sketch.a ${SNAP_DEST}/snap-core/Snap.o  -o test

### Verifing the install ###

To verify the install was successful run the executable located in ${DEST_DIR}/bin/test_all

Enjoy!
